# Architecture of the Personalised Meal Planner

## Overview
The Personalised Meal Planner is designed to provide users with customized meal plans based on their preferences. The system consists of a web/mobile application, a backend API, and integrations with external services like a recipe provider and a payment gateway.
## Domain
Health and nutrition
## Problem Statement
Many individuals struggle with meal planning due to time constraints, lack of nutritional knowledge, or dietary restrictions. The **Personalised Meal Planner** aims to simplify this process by generating customized meal plans based on user preferences, dietary goals, and health conditions. The system will integrate external recipe APIs and provide a subscription-based model for premium features.
## System Architecture 
The system is structured into **four main components**:
1. **Frontend (Web & Mobile Application)**
2. **Backend API**
3. **Database**
4. **External Services** (Recipe API, Payment Gateway)
## C4 Model

### **Context Diagram (C4 Level 1)**

```mermaid
C4Context
  title Personalized Meal Planner - System Context

  Person(user, "User\n(Plans meals)")
  System(mealPlanner, "Personalized Meal Planner\n(Manages meal plans)")
  System_Ext(recipeAPI, "Recipe API\n(Provides meal ideas)")
  System_Ext(paymentGateway, "Payment Gateway\n(Handles payments)")

  Rel(user, mealPlanner, "Uses app")
  Rel(mealPlanner, recipeAPI, "Fetches meals")
  Rel(mealPlanner, paymentGateway, "Processes payments")
```

### **Container Diagram (C4 Level 2)**

```mermaid
C4Container
  title Personalized Meal Planner - Containers

  Person(user, "User\n(Plans meals)")
  System_Boundary(mealPlanner, "Personalized Meal Planner") {
    Container(webApp, "Web/Mobile App\n(User interface)")
    Container(apiService, "Backend API\n(Processes requests)")
    Container(database, "Database\n(Stores user & meal data)")
  }

  System_Ext(recipeAPI, "Recipe API\n(Meal data provider)")
  System_Ext(paymentGateway, "Payment Gateway\n(Handles payments)")

  Rel(user, webApp, "Uses")
  Rel(webApp, apiService, "Requests data from")
  Rel(apiService, database, "Stores and retrieves")
  Rel(apiService, recipeAPI, "Fetches meal plans from")
  Rel(apiService, paymentGateway, "Processes transactions via")
```

### **Component Diagram (C4 Level 3)**

```mermaid
C4Component
  title Personalized Meal Planner - Components

  Container_Boundary(apiService, "Backend API") {
    Component(authService, "Auth Service\n(Authentication & Login)")
    Component(mealService, "Meal Service\n(Creates meal plans)")
    Component(paymentService, "Payment Service\n(Handles payments)")
    Component(dataAccess, "Database Layer\n(Read/Write data)")
  }

  System_Ext(recipeAPI, "Recipe API\n(Food suggestions)")
  System_Ext(paymentGateway, "Payment Gateway\n(Transaction processing)")

  Rel(authService, dataAccess, "Reads/writes user data")
  Rel(mealService, recipeAPI, "Requests meal plans")
  Rel(paymentService, paymentGateway, "Processes payments")
```

### **Code-Level Diagram (C4 Level 4)**

```mermaid
C4Component
  title Personalised Meal Planner - Code Level (Backend API)
  
  Container_Boundary(apiService, "Backend API") {
    Component(userController, "User Controller\n(Handles user operations)")
    Component(authService, "Auth Service\n(Login & Sessions)")
    Component(mealService, "Meal Service\n(Creates meal plans)")
    Component(paymentService, "Payment Service\n(Processes payments)")
    Component(notificationService, "Notification Service\n(Sends meal alerts)")
    Component(dataAccess, "Database Layer\n(Read/Write data)")
  }

  System_Ext(recipeAPI, "Recipe API\n(Provides meal data)")
  System_Ext(paymentGateway, "Payment Gateway\n(Transaction processing)")

  Rel_L(userController, authService, "Authenticates users via")
  Rel_R(userController, mealService, "Requests meal plans from")
  Rel_D(userController, paymentService, "Initiates transactions via")
  Rel_D(mealService, dataAccess, "Stores/retrieves meal plans in")
  Rel_U(paymentService, paymentGateway, "Handles payments through")
  Rel_L(notificationService, userController, "Sends meal alerts to users")


```

### **UML-Class Diagram Alternative**

```mermaid
classDiagram
  class User {
    +id: String
    +name: String
    +email: String
    +preferences: List<String>
  }
  
  class MealPlan {
    +id: String
    +userId: String
    +meals: List<String>
    +generatePlan()
  }

  class AuthService {
    +login(email, password)
    +register(user)
    +logout(userId)
  }

  class MealService {
    +generateMealPlan(userPreferences)
  }

  class PaymentService {
    +processPayment(userId, amount)
  }

  class Database {
    +saveData(entity)
    +getData(query)
  }

  User --> MealPlan : "Creates"
  User --> AuthService : "Authenticates with"
  User --> PaymentService : "Makes payments"
  MealPlan --> MealService : "Generated by"
  MealService --> Database : "Stores meal plans in"
  PaymentService --> Database : "Stores transactions in"
```




